<!doctype html>
<html lang="pt-BR">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Compara√ß√£o de Contrato - Original vs Modificado</title>
    <style>
      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
      }

      body {
        font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        line-height: 1.6;
        color: #333;
        background-color: #f8f9fa;
      }

      .container {
        max-width: 1400px;
        margin: 0 auto;
        padding: 20px;
      }

      .header {
        background: white;
        padding: 20px;
        border-radius: 8px;
        box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
        margin-bottom: 20px;
      }

      .header h1 {
        color: #2c3e50;
        margin-bottom: 10px;
      }

      .stats {
        display: flex;
        gap: 20px;
        flex-wrap: wrap;
      }

      .stat-item {
        background: #e9ecef;
        padding: 8px 16px;
        border-radius: 4px;
        font-size: 14px;
      }

      .diff-container {
        display: grid;
        grid-template-columns: 1fr 1fr;
        gap: 20px;
        margin-bottom: 30px;
      }

      .document-panel {
        background: white;
        border-radius: 8px;
        box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
        overflow: hidden;
      }

      .panel-header {
        background: #495057;
        color: white;
        padding: 15px 20px;
        font-weight: bold;
      }

      .panel-content {
        padding: 20px;
        max-height: 600px;
        overflow-y: auto;
        font-family: 'Courier New', monospace;
        font-size: 14px;
        line-height: 1.8;
        white-space: pre-wrap;
      }

      .modifications-panel {
        background: white;
        border-radius: 8px;
        box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
        margin-bottom: 20px;
      }

      .modification-item {
        border-bottom: 1px solid #e9ecef;
        padding: 15px 20px;
      }

      .modification-item:last-child {
        border-bottom: none;
      }

      .mod-header {
        display: flex;
        justify-content: space-between;
        align-items: center;
        margin-bottom: 10px;
      }

      .mod-type {
        background: #007bff;
        color: white;
        padding: 4px 8px;
        border-radius: 3px;
        font-size: 12px;
        text-transform: uppercase;
      }

      .mod-type.alteracao {
        background: #dc3545;
      }
      .mod-type.insercao {
        background: #28a745;
      }
      .mod-type.remocao {
        background: #fd7e14;
      }

      .mod-confidence {
        color: #6c757d;
        font-size: 14px;
      }

      .mod-content {
        font-family: 'Courier New', monospace;
        margin-bottom: 8px;
      }

      .mod-original {
        background: #f8d7da;
        padding: 2px 6px;
        border-radius: 3px;
        margin-right: 10px;
      }

      .mod-new {
        background: #d4edda;
        padding: 2px 6px;
        border-radius: 3px;
      }

      .mod-position {
        font-size: 12px;
        color: #6c757d;
      }

      .highlight {
        padding: 2px 4px;
        border-radius: 3px;
        font-weight: bold;
      }

      .highlight-alteracao {
        background-color: #ffe6e6;
        border-left: 3px solid #dc3545;
      }

      .highlight-insercao {
        background-color: #e6ffe6;
        border-left: 3px solid #28a745;
      }

      .highlight-remocao {
        background-color: #fff4e6;
        border-left: 3px solid #fd7e14;
      }

      .confidence-high {
        border-left-width: 4px;
      }
      .confidence-medium {
        border-left-width: 3px;
      }
      .confidence-low {
        border-left-width: 2px;
      }

      .legend {
        background: white;
        padding: 15px 20px;
        border-radius: 8px;
        box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
      }

      .legend-items {
        display: flex;
        gap: 20px;
        flex-wrap: wrap;
      }

      .legend-item {
        display: flex;
        align-items: center;
        gap: 8px;
        font-size: 14px;
      }

      .legend-color {
        width: 16px;
        height: 16px;
        border-radius: 3px;
      }

      @media (max-width: 768px) {
        .diff-container {
          grid-template-columns: 1fr;
        }

        .stats {
          flex-direction: column;
        }

        .legend-items {
          flex-direction: column;
        }
      }
    </style>
  </head>
  <body>
    <div class="container">
      <div class="header">
        <h1>Compara√ß√£o de Contrato - Original vs Modificado</h1>
        <div class="stats">
          <div class="stat-item">üìä 3 modifica√ß√µes encontradas</div>
          <div class="stat-item">üì¶ 1 blocos agrupados</div>
          <div class="stat-item">‚è±Ô∏è 0.002s processamento</div>
          <div class="stat-item">üéØ Confian√ßa m√©dia: 90.0%</div>
        </div>
      </div>

      <div class="diff-container">
        <div class="document-panel">
          <div class="panel-header">üìÑ Documento Original</div>
          <div class="panel-content" id="original-content">
            CONTRATO DE PRESTA√á√ÉO DE SERVI√áOS CONTRATANTE: {{nome_contratante}} CONTRATADA:
            {{nome_contratada}} CL√ÅUSULA 1¬™ - OBJETO O objeto do presente contrato √© a presta√ß√£o de
            {{tipo_servico}}. CL√ÅUSULA 2¬™ - VALOR O valor total dos servi√ßos √© de R$ {{valor}}
            reais. CL√ÅUSULA 3¬™ - PRAZO Os servi√ßos dever√£o ser executados em {{prazo}} dias √∫teis.
            CL√ÅUSULA 4¬™ - PAGAMENTO O pagamento ser√° efetuado mediante {{forma_pagamento}}. Data:
            {{data_contrato}}
          </div>
        </div>

        <div class="document-panel">
          <div class="panel-header">üìù Documento Modificado</div>
          <div class="panel-content" id="modified-content">
            CONTRATO DE PRESTA√á√ÉO DE SERVI√áOS ESPECIALIZADOS CONTRATANTE: {{nome_contratante}}
            CONTRATADA: {{nome_contratada}} CL√ÅUSULA 1¬™ - OBJETO O objeto do presente contrato √© a
            presta√ß√£o de {{tipo_servico}}. CL√ÅUSULA 2¬™ - VALOR O valor total dos servi√ßos √© de R$
            {{preco}} reais. CL√ÅUSULA 3¬™ - PRAZO Os servi√ßos dever√£o ser executados em {{prazo}}
            dias corridos. CL√ÅUSULA 4¬™ - PAGAMENTO O pagamento ser√° efetuado mediante
            {{forma_pagamento}}. CL√ÅUSULA 5¬™ - REAJUSTE Os valores ser√£o reajustados conforme
            {{indice_reajuste}}. Data: {{data_contrato}}
          </div>
        </div>
      </div>

      <div class="modifications-panel">
        <div class="panel-header">üîç Modifica√ß√µes Detalhadas</div>

        <div class="modification-item">
          <div class="mod-header">
            <span class="mod-type alteracao">alteracao</span>
            <span class="mod-confidence">95% confian√ßa</span>
          </div>
          <div class="mod-content">
            <span class="mod-original">"{{valor}}"</span>
            ‚Üí
            <span class="mod-new">"{{preco}}"</span>
          </div>
          <div class="mod-position">Linha 1, Coluna 25 ‚Ä¢ Tags: valor, preco</div>
        </div>

        <div class="modification-item">
          <div class="mod-header">
            <span class="mod-type alteracao">alteracao</span>
            <span class="mod-confidence">90% confian√ßa</span>
          </div>
          <div class="mod-content">
            <span class="mod-original">"dias √∫teis"</span>
            ‚Üí
            <span class="mod-new">"dias corridos"</span>
          </div>
          <div class="mod-position">Linha 3, Coluna 15 ‚Ä¢ Tags: prazo</div>
        </div>

        <div class="modification-item">
          <div class="mod-header">
            <span class="mod-type insercao">insercao</span>
            <span class="mod-confidence">85% confian√ßa</span>
          </div>
          <div class="mod-content">
            <span class="mod-original">""</span>
            ‚Üí
            <span class="mod-new">" alterado"</span>
          </div>
          <div class="mod-position">Linha 2, Coluna 50</div>
        </div>
      </div>

      <div class="legend">
        <h3>üìã Legenda</h3>
        <div class="legend-items">
          <div class="legend-item">
            <div
              class="legend-color"
              style="background: #ffe6e6; border-left: 3px solid #dc3545"
            ></div>
            <span>Altera√ß√£o</span>
          </div>
          <div class="legend-item">
            <div
              class="legend-color"
              style="background: #e6ffe6; border-left: 3px solid #28a745"
            ></div>
            <span>Inser√ß√£o</span>
          </div>
          <div class="legend-item">
            <div
              class="legend-color"
              style="background: #fff4e6; border-left: 3px solid #fd7e14"
            ></div>
            <span>Remo√ß√£o</span>
          </div>
        </div>
      </div>
    </div>

    <script>
      // Dados das modifica√ß√µes (gerados pelo Python)
      const modificacoes = [
        {
          id: 'mock_mod_1_valor_preco',
          tipo: 'alteracao',
          original: '{{valor}}',
          novo: '{{preco}}',
          linha: 1,
          coluna: 25,
          confianca: 0.95,
          tags: ['valor', 'preco'],
        },
        {
          id: 'mock_mod_2_dias_uteis_corridos',
          tipo: 'alteracao',
          original: 'dias √∫teis',
          novo: 'dias corridos',
          linha: 3,
          coluna: 15,
          confianca: 0.9,
          tags: ['prazo'],
        },
        {
          id: 'mock_mod_3_insercao_alterado',
          tipo: 'insercao',
          original: '',
          novo: ' alterado',
          linha: 2,
          coluna: 50,
          confianca: 0.85,
          tags: [],
        },
      ]

      // Aplicar highlights aos documentos
      function aplicarHighlights() {
        // Esta fun√ß√£o poderia aplicar highlights baseados nas posi√ß√µes
        // Por simplicidade, estamos mostrando as modifica√ß√µes em lista separada
        console.log('Modifica√ß√µes carregadas:', modificacoes.length)
      }

      // Executar ao carregar a p√°gina
      document.addEventListener('DOMContentLoaded', aplicarHighlights)
    </script>
  </body>
</html>
